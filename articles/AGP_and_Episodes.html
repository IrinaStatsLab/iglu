<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AGP and Episodes • iglu</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="AGP and Episodes">
<meta property="og:description" content="iglu">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">iglu</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/iglu.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/AGP_and_Episodes.html">AGP and Episodes</a>
    </li>
    <li>
      <a href="../articles/lasagna_plots.html">lasagna_plots</a>
    </li>
    <li>
      <a href="../articles/metrics_list.html">List of metrics implemented in iglu</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>AGP and Episodes</h1>
            
      
      
      <div class="hidden name"><code>AGP_and_Episodes.Rmd</code></div>

    </div>

    
    
<p>The iglu package includes two single page reports - an ambulatory glucose profile (AGP), and an episode calculation report.</p>
<div id="ambulatory-glucose-profile-agp" class="section level1">
<h1 class="hasAnchor">
<a href="#ambulatory-glucose-profile-agp" class="anchor"></a>Ambulatory Glucose Profile (AGP)</h1>
<p>The iglu package allows one to generate an Ambulatory Glucose Profile (AGP) report - see <a href="https://doi.org/10.1089/dia.2019.0034">Johnson (2019) “Utilizing the ambulatory glucose profile to standardize and implement continuous glucose monitoring in clinical practice.”</a>. Below is an example report for Subject 1, which includes information on data collection period, time spent in standardized glycemic ranges (cutoffs of 54, 70, 180 and 250 mg/dL) displayed as a stacked bar chart, glucose variability as measured by %CV, and visualization of quantiles of the glucose profile across days together with daily glucose views.</p>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="fu"><a href="../reference/agp.html">agp</a></span><span class="op">(</span><span class="va">example_data_1_subject</span><span class="op">)</span></pre></div>
<p><img src="AGP_and_Episodes_files/figure-html/unnamed-chunk-1-1.png" width="600px" height="500px"></p>
<div id="episode-calculation" class="section level2">
<h2 class="hasAnchor">
<a href="#episode-calculation" class="anchor"></a>Episode Calculation</h2>
<p>The Episode_Calculation function measures the number of episodes that hypoglycemia and hyperglycemia that occur more than a certain period.</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="fu"><a href="../reference/episode_calculation.html">episode_calculation</a></span><span class="op">(</span><span class="va">example_data_1_subject</span>,lv2_hypo <span class="op">=</span> <span class="fl">70</span>, lv1_hypo <span class="op">=</span> <span class="fl">120</span>, lv2_hyper <span class="op">=</span> <span class="fl">180</span>, dur_length <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>
<span class="co">#&gt;                id Hypo_ep Hyper_ep hypo_duration hyper_duration low_alert</span>
<span class="co">#&gt; 1 Subject 1 (Lv1)    3.14     2.64         243.8         196.90     54.89</span>
<span class="co">#&gt; 2 Subject 1 (Lv2)    0.07     1.14          25.0          85.79      0.16</span>
<span class="co">#&gt;   high_alert target_range hypo_min_avg hyper_min_avg</span>
<span class="co">#&gt; 1       43.9         1.21         0.55          0.44</span>
<span class="co">#&gt; 2        7.9        91.95         0.00          0.08</span></pre></div>
<p>In this example, example_data_1_subject contains multiple days, and episode_calculation function calculate the number of episodes across days.</p>
<div id="parameters" class="section level3">
<h3 class="hasAnchor">
<a href="#parameters" class="anchor"></a>Parameters</h3>
<div id="data" class="section level4">
<h4 class="hasAnchor">
<a href="#data" class="anchor"></a>data</h4>
<p>DataFrame object with column names “id”, “time”, and “gl”. Should only be data for 1 subject. In case multiple subject ids are detected, the warning is produced and only 1st subject is used.</p>
</div>
<div id="lv1_hypo-lv2_hypo-hy1_hyper-lv2_hpyer" class="section level4">
<h4 class="hasAnchor">
<a href="#lv1_hypo-lv2_hypo-hy1_hyper-lv2_hpyer" class="anchor"></a>lv1_hypo, lv2_hypo, hy1_hyper, lv2_hpyer</h4>
<p>Users can set certain thresholds for the hypo and hyperglycemia by passing parameters, lv1_hypo, lv2_hypo, hy1_hyper, lv2_hpyer. Level 2 indicates more severe states than level 1 so the threshold value for the lv2_hypo value should be lower than hy1_hypo value, and the threshold for the lv2_hyper value should higher than lv1_hyper value. Otherwise, the warning will be produced. Here, we are passing 70 for the hypoglycemia threshold level 2 threshold, 120 for hypoglycemia threshold, and 180 for the hyperglycemia level 2 threshold.</p>
</div>
<div id="dur_length" class="section level4">
<h4 class="hasAnchor">
<a href="#dur_length" class="anchor"></a>dur_length</h4>
<p>By setting a duration length to 15 minutes (the last parameter), the function will count the number of episodes that glucose values go below or above the thresholds more than 15 minutes.</p>
</div>
</div>
<div id="return-value" class="section level3">
<h3 class="hasAnchor">
<a href="#return-value" class="anchor"></a>Return value</h3>
<p>The function returns a dataframe including number of hypo and hyper episodes, hypo and hyper mean values, mean durations (Minutes), and average mean values per day (%).</p>
</div>
<div id="example" class="section level3">
<h3 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h3>
<p>In this example, we calculated episodes for subject 1. The average numbers of hypo and hyperglycemia for subject 1 (level 1) are 3.14 and 2.64 respectively. The mean duration for hypoglycemia is 243.8 minutes and 196.9 minutes for hyperglycemia. You can also see other values such as the mean average values for hypoglycemia and hyperglycemia, and this function can be used for multiple subjects as well (check by setting the parameter, data =example_data_5_subject).</p>
</div>
</div>
<div id="epicalc_profile-function" class="section level2">
<h2 class="hasAnchor">
<a href="#epicalc_profile-function" class="anchor"></a>Epicalc_profile function</h2>
<p>Visualization of the metrics produced by the <code><a href="../reference/episode_calculation.html">episode_calculation()</a></code> function is done with the function <code><a href="../reference/epicalc_profile.html">epicalc_profile()</a></code>. This function takes the <code><a href="../reference/episode_calculation.html">episode_calculation()</a></code> output and displays it as a tables of the episode metrics as well as plots that visualizes the subject’s glucose level over time. Like <code>episode_calculation</code>, this function is designed to work with one subject data at a time, and the structure of the function output is shown below.</p>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="fu"><a href="../reference/epicalc_profile.html">epicalc_profile</a></span><span class="op">(</span><span class="va">example_data_1_subject</span><span class="op">)</span></pre></div>
<p><img src="AGP_and_Episodes_files/figure-html/unnamed-chunk-3-1.png" width="768"></p>
<p>The function will accept the following six parameters that are passed on to <code><a href="../reference/epicalc_profile.html">epicalc_profile()</a></code>. Like <code><a href="../reference/episode_calculation.html">episode_calculation()</a></code>, there are options to adjust the hypoglycemia and hyperglycemia thresholds. If the hyperglycemia threshold is lower than the hypoglycemia threshold, a warning will be produced.</p>
<ul>
<li>“<code>lv1_hypo</code>” - First threshold for what below is considered hypoglycemia. Default is 100 and the units are mg/dL</li>
<li>“<code>lv2_hypo</code>” - Second threshold for what below is considered hypoglycemia. Default is 70 and the units are mg/dL</li>
<li>“<code>lv1_hyper</code>” - First threshold for what above is considered hyperglycemia. Default is 120 and the units are mg/dL</li>
<li>“<code>lv2_hyper</code>” - Second threshold for what above is considered hyperglycemia. Default is 160 and the units are mg/dL</li>
<li>“<code>color_scheme</code>” - String corresponding to a color scheme for the plot.Default is dark red for <code>lv1_hypo</code>, red for <code>lv2_hypo</code>, green for normal, yellow for <code>lv1_hyper</code>, and orange for <code>lv2_hyper</code>.</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="downlit">
<span class="fu"><a href="../reference/epicalc_profile.html">epicalc_profile</a></span><span class="op">(</span><span class="va">example_data_1_subject</span>, lv1_hypo<span class="op">=</span><span class="fl">100</span>, lv2_hypo<span class="op">=</span><span class="fl">70</span>, lv1_hyper<span class="op">=</span><span class="fl">120</span>, lv2_hyper<span class="op">=</span><span class="fl">160</span>, color_scheme<span class="op">=</span><span class="st">"Color Scheme 1"</span><span class="op">)</span></pre></div>
<p><img src="AGP_and_Episodes_files/figure-html/unnamed-chunk-4-1.png" width="768"></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Steve Broll, David Buchanan, Elizabeth Chun, John Muschelli, Nathaniel Fernandes, Jacek Urbanek, Irina Gaynanova.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
