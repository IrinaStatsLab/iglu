<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Calculate the Rate of Change at each time point (ROC) — roc • iglu</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Calculate the Rate of Change at each time point (ROC) — roc" />
<meta property="og:description" content="The function roc produces rate of change values in a tibble object." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">iglu</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/iglu.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/metrics_list.html">List of metrics implemented in iglu</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculate the Rate of Change at each time point (ROC)</h1>
    
    <div class="hidden name"><code>roc.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The function roc produces rate of change values in a tibble object.</p>
    </div>

    <pre class="usage"><span class='fu'>roc</span><span class='op'>(</span><span class='va'>data</span>, timelag <span class='op'>=</span> <span class='fl'>15</span>, dt0 <span class='op'>=</span> <span class='cn'>NULL</span>, inter_gap <span class='op'>=</span> <span class='fl'>45</span>, tz <span class='op'>=</span> <span class='st'>""</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>DataFrame object with column names "id", "time", and "gl".</p></td>
    </tr>
    <tr>
      <th>timelag</th>
      <td><p>Integer indicating the time period (# minutes) over which rate
of change is calculated. Default is 15, e.g. rate of change is the change in
glucose over the past 15 minutes divided by 15.</p></td>
    </tr>
    <tr>
      <th>dt0</th>
      <td><p>The time frequency for interpolation in minutes, the default will match the CGM meter's frequency (e.g. 5 min for Dexcom).</p></td>
    </tr>
    <tr>
      <th>inter_gap</th>
      <td><p>The maximum allowable gap (in minutes) for interpolation. The values will not be interpolated between the glucose measurements that are more than inter_gap minutes apart. The default value is 45 min.</p></td>
    </tr>
    <tr>
      <th>tz</th>
      <td><p>A character string specifying the time zone to be used. System-specific (see <code><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></code>), but " " is the current time zone, and "GMT" is UTC (Universal Time, Coordinated). Invalid values are most commonly treated as UTC, on some platforms with a warning.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A tibble object with two columns: subject id and rate of change values</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>A tibble object with a column for subject id and a column for ROC values is
returned. A ROC value is returned for each time point for all the subjects. Thus
multiple rows are returned for each subject. If the rate of change cannot be
calculated, the function will return NA for that point.</p>
<p>The glucose values are linearly interpolated over a time grid starting at the
beginning of the first day of data and ending on the last day of data. Because
of this, there may be many NAs at the beginning and the end of the roc values
for each subject. These NAs are a result of interpolated time points that do
not have recorded glucose values near them because recording had either not
yet begun for the day or had already ended.</p>
<p>The ROC is calculated as \(\frac{BG(t_i) - BG(t_{i-1})}{t_i - t_{i-1}}\)
where BG_i is the Blood Glucose measurement at time t_i and BG_i-1 is the
Blood Glucose measurement at time t_i-1. The time difference between the points,
t_i - t_i-1, is selectable and set at a default of 15 minutes.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Clarke et al. (2009) Statistical Tools to Analyze Continuous Glucose Monitor Data,
Diabetes
<em>Diabetes Technology and Therapeutics</em> <strong>11</strong> S45-S54,
doi: <a href='https://doi.org/10.1089/dia.2008.0138'>10.1089/dia.2008.0138</a>
.</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Elizabeth Chun, David Buchanan</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>example_data_1_subject</span><span class='op'>)</span>
<span class='fu'>roc</span><span class='op'>(</span><span class='va'>example_data_1_subject</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #555555;'># A tibble: 4,032 x 2</span><span>
#&gt; </span><span style='color: #555555;'># Groups:   id [1]</span><span>
#&gt;    id          roc
#&gt;    </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>     </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #555555;'> 1</span><span> Subject 1    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #555555;'> 2</span><span> Subject 1    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #555555;'> 3</span><span> Subject 1    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #555555;'> 4</span><span> Subject 1    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #555555;'> 5</span><span> Subject 1    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #555555;'> 6</span><span> Subject 1    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #555555;'> 7</span><span> Subject 1    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #555555;'> 8</span><span> Subject 1    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #555555;'> 9</span><span> Subject 1    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #555555;'>10</span><span> Subject 1    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #555555;'># … with 4,022 more rows</span><span></div><div class='input'><span class='fu'>roc</span><span class='op'>(</span><span class='va'>example_data_1_subject</span>, timelag <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span>
</div><div class='output co'>#&gt; </span><span style='color: #555555;'># A tibble: 4,032 x 2</span><span>
#&gt; </span><span style='color: #555555;'># Groups:   id [1]</span><span>
#&gt;    id          roc
#&gt;    </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>     </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #555555;'> 1</span><span> Subject 1    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #555555;'> 2</span><span> Subject 1    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #555555;'> 3</span><span> Subject 1    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #555555;'> 4</span><span> Subject 1    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #555555;'> 5</span><span> Subject 1    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #555555;'> 6</span><span> Subject 1    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #555555;'> 7</span><span> Subject 1    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #555555;'> 8</span><span> Subject 1    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #555555;'> 9</span><span> Subject 1    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #555555;'>10</span><span> Subject 1    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #555555;'># … with 4,022 more rows</span><span></div><div class='input'>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>example_data_5_subject</span><span class='op'>)</span>
<span class='fu'>roc</span><span class='op'>(</span><span class='va'>example_data_5_subject</span><span class='op'>)</span>
</div><div class='output co'>#&gt; </span><span style='color: #555555;'># A tibble: 18,720 x 2</span><span>
#&gt; </span><span style='color: #555555;'># Groups:   id [5]</span><span>
#&gt;    id          roc
#&gt;    </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>     </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #555555;'> 1</span><span> Subject 1    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #555555;'> 2</span><span> Subject 1    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #555555;'> 3</span><span> Subject 1    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #555555;'> 4</span><span> Subject 1    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #555555;'> 5</span><span> Subject 1    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #555555;'> 6</span><span> Subject 1    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #555555;'> 7</span><span> Subject 1    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #555555;'> 8</span><span> Subject 1    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #555555;'> 9</span><span> Subject 1    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #555555;'>10</span><span> Subject 1    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #555555;'># … with 18,710 more rows</span><span></div><div class='input'><span class='fu'>roc</span><span class='op'>(</span><span class='va'>example_data_5_subject</span>, timelag <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span>
</div><div class='output co'>#&gt; </span><span style='color: #555555;'># A tibble: 18,720 x 2</span><span>
#&gt; </span><span style='color: #555555;'># Groups:   id [5]</span><span>
#&gt;    id          roc
#&gt;    </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>     </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #555555;'> 1</span><span> Subject 1    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #555555;'> 2</span><span> Subject 1    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #555555;'> 3</span><span> Subject 1    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #555555;'> 4</span><span> Subject 1    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #555555;'> 5</span><span> Subject 1    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #555555;'> 6</span><span> Subject 1    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #555555;'> 7</span><span> Subject 1    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #555555;'> 8</span><span> Subject 1    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #555555;'> 9</span><span> Subject 1    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #555555;'>10</span><span> Subject 1    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #555555;'># … with 18,710 more rows</span><span></div><div class='input'>
</div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Steve Broll, Jacek Urbanek, David Buchanan, Elizabeth Chun, John Muschelli, Irina Gaynanova.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


